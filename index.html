<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Asawari's Winter Countdown â„ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  * { box-sizing: border-box; }
  body {
    margin: 0;
    background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #ffdde1 100%);
    font-family: 'Poppins', Arial, sans-serif;
    text-align: center;
    overflow-x: hidden;
    color: #fff;
    transition: background 1s;
  }
  
  body.birthday-theme {
    background: linear-gradient(135deg, #ffeef8 0%, #ffe0f0 50%, #ffc7e5 100%);
    animation: sparkle 3s infinite;
  }
  
  @keyframes sparkle {
    0%, 100% { filter: brightness(1); }
    50% { filter: brightness(1.1); }
  }
  
  /* HOURGLASS TIMER */
  .timer-container {
    position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
    background: rgba(255,255,255,0.95); padding: 20px 40px; 
    border-radius: 25px; z-index: 1000;
    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    backdrop-filter: blur(10px);
  }
  
  .hourglass {
    font-size: 50px; display: inline-block;
    animation: rotate 3s infinite;
  }
  
  @keyframes rotate {
    0%, 100% { transform: rotate(0deg); }
    50% { transform: rotate(180deg); }
  }
  
  .timer-text {
    font-size: 28px; font-weight: bold;
    background: linear-gradient(135deg, #ff6b9d, #c06c84);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .timer-label {
    font-size: 14px; color: #c06c84; margin-top: 5px;
  }
  
  /* SNOWFLAKES */
  .snowflake {
    position: fixed; top: -10px; z-index: 999;
    color: white; font-size: 20px; opacity: 0.8;
    animation: fall linear infinite;
    text-shadow: 0 0 5px rgba(255,255,255,0.8);
  }
  
  @keyframes fall {
    to { transform: translateY(100vh) rotate(360deg); }
  }
  
  /* MAIN CONTAINER */
  .container {
    max-width: 900px; margin: 140px auto 50px; padding: 20px;
  }
  
  .welcome-screen, .activities-screen, .celebration-screen {
    display: none;
    background: rgba(255,255,255,0.9);
    border-radius: 30px;
    padding: 40px 30px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.2);
    color: #c06c84;
  }
  
  h1 { 
    font-size: 2.5em; margin: 20px 0; 
    background: linear-gradient(135deg, #ff6b9d, #c06c84);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  h2 { font-size: 1.8em; margin: 15px 0; color: #c06c84; }
  
  button {
    background: linear-gradient(135deg, #ff6b9d 0%, #c06c84 100%);
    color: white; border: none; padding: 15px 35px;
    border-radius: 50px; font-size: 18px; cursor: pointer;
    margin: 10px; transition: 0.3s; font-weight: bold;
    box-shadow: 0 5px 15px rgba(255,107,157,0.4);
    -webkit-tap-highlight-color: transparent;
  }
  
  button:hover, button:active {
    transform: translateY(-3px); 
    box-shadow: 0 8px 25px rgba(255,107,157,0.6);
  }
  
  /* ACTIVITIES GRID */
  .activities-grid {
    display: grid; 
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 25px; margin: 30px 0;
  }
  
  .activity-card {
    background: linear-gradient(135deg, rgba(255,182,193,0.3), rgba(255,240,245,0.5));
    border-radius: 20px; padding: 30px; cursor: pointer;
    transition: 0.3s; border: 3px solid rgba(255,107,157,0.3);
    position: relative; overflow: hidden;
  }
  
  .activity-card::before {
    content: ''; position: absolute; top: -50%; left: -50%;
    width: 200%; height: 200%;
    background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
    transform: rotate(45deg);
    transition: 0.5s;
  }
  
  .activity-card:hover::before {
    left: 100%;
  }
  
  .activity-card:hover { 
    transform: translateY(-10px); 
    border-color: #ff6b9d;
    box-shadow: 0 15px 30px rgba(255,107,157,0.3);
  }
  
  .activity-card.completed { 
    background: linear-gradient(135deg, rgba(76,175,80,0.2), rgba(129,199,132,0.3));
    border-color: #4caf50;
  }
  
  .activity-icon { font-size: 60px; margin: 15px 0; }
  
  .activity-card h3 { color: #c06c84; margin: 10px 0; }
  .activity-card p { color: #d8889d; font-size: 0.95em; }
  
  /* GAME SCREENS */
  .game-screen {
    display: none;
    background: rgba(255,255,255,0.95);
    border-radius: 20px; padding: 30px;
    color: #c06c84; margin: 20px 0;
    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
  }
  
  canvas {
    background: #fff; border-radius: 15px;
    display: block; margin: 20px auto;
    border: 3px solid #ff6b9d;
    touch-action: none;
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
  }
  
  /* CELEBRATION - FAIRYTALE CAKE */
  .cake-container {
    position: relative; width: 280px; height: 220px;
    margin: 50px auto;
  }
  
  .layer {
    background: linear-gradient(135deg, #ffb6c1 0%, #ffccd5 100%);
    border-radius: 15px 15px 0 0;
    position: absolute; left: 50%; transform: translateX(-50%);
    border-bottom: 6px solid #ff8fab;
    box-shadow: inset 0 -20px 0 rgba(255,255,255,0.4);
    border-left: 3px solid rgba(255,255,255,0.3);
    border-right: 3px solid rgba(255,255,255,0.3);
  }
  
  .bottom-layer { width: 220px; height: 90px; bottom: 0; }
  .top-layer { width: 160px; height: 75px; bottom: 90px; }
  
  .frosting {
    position: absolute; bottom: -6px; left: 0; right: 0;
    height: 12px; background: #ff8fab;
    border-radius: 0 0 15px 15px;
  }
  
  .frosting::before {
    content: 'ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸';
    position: absolute; top: -8px; left: 0; right: 0;
    font-size: 12px; letter-spacing: 5px;
  }
  
  #candle {
    width: 12px; height: 50px; background: linear-gradient(to bottom, #fff, #ffe4e1);
    position: absolute; top: -50px; left: 74px;
    border-radius: 3px; box-shadow: 0 2px 10px rgba(0,0,0,0.2);
  }
  
  #flame {
    width: 18px; height: 25px;
    background: linear-gradient(to top, #ff6b00, #ffeb3b, #fff);
    border-radius: 50% 50% 20% 20%;
    position: absolute; top: -25px; left: -3px;
    animation: flicker .3s infinite;
    box-shadow: 0 0 30px rgba(255,215,0,0.8), 0 0 50px rgba(255,107,0,0.4);
  }
  
  /* Reveal candle for birthday screen */
  #revealCandle {
    width: 12px; height: 50px; background: linear-gradient(to bottom, #fff, #ffe4e1);
    position: absolute; top: -50px; left: 74px;
    border-radius: 3px; box-shadow: 0 2px 10px rgba(0,0,0,0.2);
  }
  
  #revealFlame {
    width: 18px; height: 25px;
    background: linear-gradient(to top, #ff6b00, #ffeb3b, #fff);
    border-radius: 50% 50% 20% 20%;
    position: absolute; top: -25px; left: -3px;
    animation: flicker .3s infinite;
    box-shadow: 0 0 30px rgba(255,215,0,0.8), 0 0 50px rgba(255,107,0,0.4);
  }
  
  @keyframes flicker {
    0%, 100% { transform: scale(1) translateY(0); opacity: 1; }
    25% { transform: scale(1.05) translateY(-2px); opacity: 0.95; }
    50% { transform: scale(0.98) translateY(1px); opacity: 0.9; }
    75% { transform: scale(1.02) translateY(-1px); opacity: 0.95; }
  }
  
  .cut-active .bottom-layer {
    transform: translateX(-110%) rotate(-10deg);
    opacity: 0.6; transition: 1.2s ease-out;
  }
  
  .cut-active .top-layer {
    transform: translateX(-40%) rotate(10deg);
    transition: 1.2s ease-out;
  }
  
  .slice {
    position: absolute; font-size: 70px;
    display: none; left: 30%; top: 10%;
    animation: popOut 1.8s forwards;
    filter: drop-shadow(0 5px 10px rgba(0,0,0,0.3));
  }
  
  @keyframes popOut {
    0% { transform: scale(0) rotate(0); opacity: 0; }
    50% { transform: scale(1.2) rotate(180deg); opacity: 1; }
    100% { transform: scale(1) rotate(360deg) translateY(-30px); opacity: 1; }
  }
  
  /* CONFETTI & EFFECTS */
  .confetti {
    position: fixed; width: 12px; height: 12px;
    top: -10px; z-index: 1000;
    animation: confettiFall 4s linear forwards;
  }
  
  @keyframes confettiFall {
    to { transform: translateY(110vh) rotate(720deg); opacity: 0; }
  }
  
  .fairy-sparkle {
    position: fixed; font-size: 30px; z-index: 999;
    animation: sparkleFloat 3s ease-out forwards;
  }
  
  @keyframes sparkleFloat {
    0% { transform: scale(0) translateY(0); opacity: 1; }
    50% { transform: scale(1.5) translateY(-100px); opacity: 0.8; }
    100% { transform: scale(0.5) translateY(-200px); opacity: 0; }
  }
  
  .message-card {
    background: linear-gradient(135deg, #ffeef8 0%, #ffe0f0 100%);
    color: #c06c84; border-radius: 25px; padding: 40px;
    margin: 30px auto; max-width: 650px;
    box-shadow: 0 15px 50px rgba(255,107,157,0.3);
    font-size: 1.15em; line-height: 1.9;
    border: 3px solid rgba(255,182,193,0.5);
  }
  
  .progress-bar {
    background: rgba(255,182,193,0.3); height: 12px;
    border-radius: 20px; margin: 25px 0; overflow: hidden;
    border: 2px solid rgba(255,107,157,0.2);
  }
  
  .progress-fill {
    background: linear-gradient(90deg, #ff6b9d, #ffa8c5);
    height: 100%; transition: width 0.5s;
    box-shadow: 0 0 20px rgba(255,107,157,0.5);
  }

  .back-btn {
    background: rgba(255,182,193,0.4); 
    color: #c06c84;
    padding: 12px 25px;
    font-size: 16px; margin: 15px;
    border: 2px solid rgba(255,107,157,0.3);
  }
  
  .back-btn:hover {
    background: rgba(255,182,193,0.6);
  }
  
  /* WINTER DECORATIONS */
  .winter-decoration {
    position: fixed; font-size: 40px; opacity: 0.6;
    animation: float 6s ease-in-out infinite;
  }
  
  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
  }
  
  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }
  
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>
</head>
<body id="mainBody">

<!-- HOURGLASS COUNTDOWN TIMER -->
<div class="timer-container" style="position: fixed; top: 15px; right: 15px; left: auto; transform: none;">
  <div class="hourglass">â³</div>
  <div class="timer-text" id="countdown">Loading...</div>
  <div class="timer-label" id="timerLabel">Until the Magic Begins âœ¨</div>
</div>

<div class="container">
  
  <!-- WELCOME SCREEN -->
  <div class="welcome-screen" id="welcomeScreen">
    <h1>â„ï¸ Winter Wonderland â„ï¸</h1>
    <p style="font-size: 1.4em; margin: 25px 0; color: #c06c84;">
      Welcome to a magical journey!<br>
      Something wonderful is counting down... ğŸ„âœ¨
    </p>
    <div style="margin: 40px 0;">
      <div style="font-size: 100px; margin: 20px 0;">ğŸ„ğŸâ„ï¸</div>
      <p style="font-size: 1.1em; color: #d8889d;">
        Complete fun activities and await the surprise! ğŸ’
      </p>
    </div>
    <button onclick="startActivities()">Begin the Adventure! ğŸš€</button>
  </div>
  
  <!-- BIRTHDAY REVEAL SCREEN -->
  <div class="welcome-screen" id="birthdayReveal" style="background: linear-gradient(135deg, #ffeef8 0%, #ffe0f0 50%, #ffc7e5 100%);">
    <div style="animation: pulse 2s infinite;">
      <h1 style="font-size: 3.5em; margin: 30px 0; text-shadow: 3px 3px 10px rgba(255,107,157,0.5);">
        ğŸ‰ HAPPY ASAWARI DAY! ğŸ‰
      </h1>
    </div>
    
    <div style="font-size: 80px; margin: 40px 0; line-height: 1.2;">
      ğŸŠğŸ‰ğŸŠğŸ‰ğŸŠ<br>
      ğŸ’–ğŸŒ¸ğŸ’ğŸŒºğŸ’–<br>
      ğŸ†âœ¨ğŸ‡âœ¨ğŸ†<br>
      ğŸŒ¹ğŸ’ğŸğŸ’ğŸŒ¹<br>
      ğŸŠğŸ‰ğŸŠğŸ‰ğŸŠ
    </div>
    
    <!-- BIRTHDAY CAKE SECTION -->
    <div id="birthdayCakeSection">
      <div class="cake-container" id="revealCakeGroup">
        <div class="layer bottom-layer">
          <div class="frosting"></div>
        </div>
        <div class="layer top-layer">
          <div class="frosting"></div>
          <div id="revealCandle"><div id="revealFlame"></div></div>
        </div>
        <div id="revealCakeSlice" class="slice">ğŸ°</div>
      </div>
      
      <div id="revealCakeActions">
        <button id="revealBlowBtn" onclick="blowRevealCandle()" style="font-size: 1.2em; padding: 15px 40px;">
          Tap to Blow the Candle ğŸ‚
        </button>
        <button id="revealCutBtn" onclick="cutRevealCake()" style="display:none; font-size: 1.2em; padding: 15px 40px;">
          Tap to Cut the Cake ğŸ”ª
        </button>
        <button id="revealLetterBtn" onclick="openLetter()" style="display:none; font-size: 1.2em; padding: 15px 40px;">
          Tap to Open Your Letter ğŸ’Œ
        </button>
      </div>
    </div>
    
    <!-- LETTER SECTION (Hidden Initially) -->
    <div class="message-card" id="letterSection" style="display: none; margin: 40px auto; animation: fadeIn 2s;">
      <h2 style="color: #ff6b9d; font-size: 2em; margin-bottom: 20px;">ğŸ’Œ A Special Letter for You ğŸ’Œ</h2>
      <div id="letterContent" style="text-align: left; line-height: 1.9; font-size: 1.05em;">
        <p style="font-style: italic; color: #c06c84;">Dear Asawari,</p>
        
        <p style="margin: 20px 0;">
          Happy birthday my special one, live long and smile the brightest like the prettiest sunflower (while writing this, only this flower came in my mind so..) you always look damn gorgeous no matter what you wear or how your hairstyle is, what earring, kajal is there or not â€“ it's like all those accessories get their beauty by being yours, just like me. Indeed you are the fairytale princess, that too the most stubborn, angry, calming, sweet, caring, understanding... I am not fluent enough to put you in any word like that, it will look like a cage, so just let it be like this.
        </p>
        
        <p style="margin: 20px 0;">
          Live your day the best way possible. I love you a lot. You make my life better just by being in it â€“ in all your chidana ya muh banana, even when you say "fuck off" â€“ everything is so special about you. No, actually you make everything special around me by being in it. I never knew that I can smile this hard or even cry before meeting you. I never cared actually about anyone, but about you I do more than I ever did about anyone or I will ever be â€“ yeah maybe I'll do that, will be our daughter if we have one day, and yeah I am still delusional but with you it all sounds doable.
        </p>
        
        <p style="margin: 20px 0;">
          Life has been very tough and unbearable to me since I am not yours, but I know I did the mess. I hope I am cleaning that mess. I hope I am again being your bhondu in your terms and I want to be. All I know is that never give up. I did mistake, I disappointed you, I will make it better. I am also a human honey, I make mistakes and I am so fool that I don't know what to do to make things better, at least till now, so I used to ask others. I know that's wrong, that's why I'm trying to learn you, and till yet you are the most beautiful book I have ever read, genuinely. I need you and I want to read this book for the rest of my life.
        </p>
        
        <p style="margin: 20px 0;">
          I know it's very illogical to ask something from a birthday girl, but princess I am being very selfish and shameless here:
        </p>
        
        <p style="margin: 20px 0; font-style: italic; color: #d6336c; background: rgba(255,182,193,0.2); padding: 20px; border-radius: 15px; border-left: 4px solid #ff6b9d;">
          "Parat hoshil ka majhi? Ya veli mi kharach badlaycha prayatna karto ahe. Ajun murkhapana karun pan mi tujhach asnar, tujhach pramane tula avdanara. Tujhyapeksha jast mala jagat kahich nahi havay, fakt tuch. Tu bhetli tar jag purna bhetla sarkha vatta, ani tu geli tar sagla sodun dyava asa vatta. Chuki keloy mi, mi te manya karto, pan chukun pan mi tujhach ahe na. Majhya chuki mi kharach sudharaycha prayatna karto ahe, fakt tu majhya sobat raha. Tujhya shivay mi tasach yedya sarkhach ahe. Aik na majhi raniâ€¦ parat hoshil ka majhi?"
        </p>
        
        <p style="margin: 20px 0;">
          And at the end honey, happiest birthday to you again. You are the best person I got, I am keeping you always and I can't give up on you, I just can't. So live your day, enjoy, and I love you bhondu ke laddu.
        </p>
        
        <p style="margin: 20px 0;">
          I still wanna be old with you, travel the world, kiss you, holding you in my arms, give you a very tight hug until we smell like each other. I have a whole future with you â€“ have a swing in our house, swing together, and while you put your head on my shoulder, say something to irritate me, and still I say "ji rani sahiba."
        </p>
        
        <p style="text-align: right; margin-top: 40px; font-size: 1.2em;">
          With all my love,<br>
          <strong style="color: #ff6b9d; font-size: 1.3em;">Your Bhondu ğŸ’–</strong>
        </p>
      </div>
      
      <button onclick="startActivities()" style="font-size: 1.3em; padding: 20px 40px; margin-top: 30px;">
        Continue to Games & Celebration! ğŸ®ğŸ‚
      </button>
    </div>
  </div>
  
  <!-- ACTIVITIES SCREEN -->
  <div class="activities-screen" id="activitiesScreen">
    <h1>âœ¨ Things to Do âœ¨</h1>
    <p style="font-size: 1.15em; color: #c06c84;">
      Have fun with these winter activities! ğŸ„
    </p>
    
    <div class="progress-bar">
      <div class="progress-fill" id="progressBar" style="width: 0%"></div>
    </div>
    <p id="progressText" style="color: #c06c84; font-weight: bold;">
      0/4 Activities Completed
    </p>
    
    <div class="activities-grid">
      <div class="activity-card" onclick="startActivity('ball')" id="card-ball">
        <div class="activity-icon">âš½</div>
        <h3>Save the Ball</h3>
        <p>Keep the ball from falling into the pit!</p>
      </div>
      
      <div class="activity-card" onclick="startActivity('pacman')" id="card-pacman">
        <div class="activity-icon">ğŸŸ¡</div>
        <h3>Pac-Girl Adventure</h3>
        <p>Collect all the treats!</p>
      </div>
      
      <div class="activity-card" onclick="startActivity('memory')" id="card-memory">
        <div class="activity-icon">ğŸ´</div>
        <h3>Memory Match</h3>
        <p>Match all the pink pairs!</p>
      </div>
      
      <div class="activity-card" onclick="startActivity('puzzle')" id="card-puzzle">
        <div class="activity-icon">ğŸ§©</div>
        <h3>Slide Puzzle</h3>
        <p>Arrange the numbers in order!</p>
      </div>
    </div>
    
    <button onclick="checkCompletion()" style="margin-top: 25px;">
      Check My Progress ğŸ¯
    </button>
  </div>
  
  <!-- BALL GAME SCREEN -->
  <div class="game-screen" id="ballGame">
    <h2>âš½ Save the Ball</h2>
    <p style="color: #d8889d;">Keep the ball bouncing! Complete all 3 levels!</p>
    <p id="ballLevel" style="font-size: 1.2em; font-weight: bold; color: #ff6b9d;">Level 1 - Easy</p>
    <canvas id="ballCanvas" width="400" height="500"></canvas>
    <p id="ballScore" style="font-size: 1.3em; font-weight: bold;">Score: 0/10</p>
    <p style="font-size: 0.9em; color: #d8889d;">ğŸ® Move mouse or drag finger to control paddle</p>
    <button class="back-btn" onclick="backToActivities()">â† Back</button>
  </div>
  
  <!-- PACMAN GAME SCREEN -->
  <div class="game-screen" id="pacmanGame">
    <h2>ğŸŸ¡ Pac-Girl Adventure</h2>
    <p style="color: #d8889d;">Collect treats and avoid the ghosts! Complete all 3 levels!</p>
    <p id="pacmanLevel" style="font-size: 1.2em; font-weight: bold; color: #ff6b9d;">Level 1 - 1 Ghost</p>
    <canvas id="pacmanCanvas" width="400" height="400"></canvas>
    <p id="pacmanScore" style="font-size: 1.3em; font-weight: bold;">Treats: 0/15</p>
    <p id="pacmanLives" style="font-size: 1.1em; color: #ff6b9d;">Lives: â¤ï¸â¤ï¸â¤ï¸</p>
    <p style="font-size: 0.9em; color: #d8889d;">ğŸ® Arrow Keys or Swipe to move â€¢ Avoid Ghosts!</p>
    <button class="back-btn" onclick="backToActivities()">â† Back</button>
  </div>
  
  <!-- MEMORY GAME SCREEN -->
  <div class="game-screen" id="memoryGame">
    <h2>ğŸ´ Memory Match</h2>
    <p style="color: #d8889d;">Match all the pairs! Try to do it in fewer moves!</p>
    <div id="memoryGrid" style="display: grid; grid-template-columns: repeat(4, 90px); gap: 12px; justify-content: center; margin: 25px 0;"></div>
    <p id="memoryMoves" style="font-size: 1.3em; font-weight: bold;">Moves: 0</p>
    <button class="back-btn" onclick="backToActivities()">â† Back</button>
  </div>
  
  <!-- PUZZLE GAME SCREEN -->
  <div class="game-screen" id="puzzleGame">
    <h2>ğŸ§© Slide Puzzle</h2>
    <p style="color: #d8889d;">Slide tiles to arrange numbers 1-15 in order!</p>
    <div id="puzzleGrid" style="display: grid; grid-template-columns: repeat(4, 90px); gap: 5px; justify-content: center; margin: 25px 0;"></div>
    <p id="puzzleMoves" style="font-size: 1.3em; font-weight: bold;">Moves: 0</p>
    <button onclick="resetPuzzle()" style="background: rgba(255,182,193,0.4); color: #c06c84; padding: 10px 20px; margin: 10px;">Reset Puzzle ğŸ”„</button>
    <button class="back-btn" onclick="backToActivities()">â† Back</button>
  </div>
  
  <!-- CELEBRATION SCREEN -->
  <div class="celebration-screen" id="celebrationScreen">
    <h1 id="celebTitle">ğŸ‚ A Fairytale Celebration ğŸ‚</h1>
    
    <div class="cake-container" id="cakeGroup">
      <div class="layer bottom-layer">
        <div class="frosting"></div>
      </div>
      <div class="layer top-layer">
        <div class="frosting"></div>
        <div id="candle"><div id="flame"></div></div>
      </div>
      <div id="cakeSlice" class="slice">ğŸ°</div>
    </div>
    
    <div id="actions">
      <button id="blowBtn" onclick="blowCandle()">Blow the Candle ğŸ•¯ï¸</button>
      <button id="cutBtn" onclick="cutCake()" style="display:none">Cut the Cake ğŸ”ª</button>
      <button id="wishBtn" onclick="showWish()" style="display:none">See Your Special Message ğŸ’Œ</button>
    </div>
    
    <div class="message-card" id="wishMessage" style="display:none">
      <h2 style="color: #ff6b9d; font-size: 2em;">âœ¨ Happy Birthday Asawari! âœ¨</h2>
      <p style="text-align: center;">
        ğŸŒŸ On this magical day, the stars aligned just for you! ğŸŒŸ
        <br><br>
        You are like a beautiful fairytale come to life â€“ full of wonder, grace, and endless charm. 
        Your presence lights up every room like a winter sunrise, and your smile is warmer than any cozy fire. ğŸ’–
        <br><br>
        As you step into this new chapter, may your path be sprinkled with stardust and your dreams take flight on wings of hope. 
        May every wish you make bloom into reality, like flowers in an enchanted garden! ğŸŒ¸âœ¨
        <br><br>
        You deserve all the happiness in the world â€“ mountains of laughter, oceans of joy, 
        and a sky full of magical moments. May this year bring you adventures that make your heart sing 
        and memories that sparkle forever! ğŸ ğŸŒˆ
        <br><br>
        Like a princess in her own story, may you write the most beautiful chapters filled with love, 
        success, and everything that makes your soul dance with delight! ğŸ’«
        <br><br>
        <strong style="font-size: 1.4em; color: #ff6b9d; display: block; margin-top: 20px;">
          Happy Birthday, Beautiful Asawari! ğŸ‚ğŸ‘‘âœ¨
          <br>
          May your day be as magical as you are! ğŸ’ğŸˆ
        </strong>
      </p>
    </div>
  </div>

</div>

<script>
// COUNTDOWN TIMER with theme change
const targetDate = new Date('2025-12-26T00:00:00').getTime();
let themeChanged = false;

function updateCountdown() {
  const now = new Date().getTime();
  const distance = targetDate - now;
  
  if (distance < 0) {
    document.getElementById('countdown').innerHTML = "ğŸ‚ BIRTHDAY TIME! ğŸ‚";
    document.querySelector('.hourglass').innerHTML = 'ğŸ‰';
    document.getElementById('timerLabel').innerHTML = "The Magic Has Begun! âœ¨";
    if (!themeChanged) {
      document.getElementById('mainBody').classList.add('birthday-theme');
      document.getElementById('welcomeScreen').style.display = 'none';
      document.getElementById('birthdayReveal').style.display = 'block';
      themeChanged = true;
      spawnFairySparkles(50);
      spawnConfetti(300);
      
      // Continuous celebration effects
      setInterval(() => spawnFairySparkles(10), 3000);
      setInterval(() => spawnConfetti(20), 2000);
    }
    return;
  }
  
  const days = Math.floor(distance / (1000 * 60 * 60 * 24));
  const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  const seconds = Math.floor((distance % (1000 * 60)) / 1000);
  
  document.getElementById('countdown').innerHTML = 
    `${days}d ${hours}h ${minutes}m ${seconds}s`;
}

setInterval(updateCountdown, 1000);
updateCountdown();

// Snowflakes
let snowflakeInterval;

function createSnowflake() {
  const snowflake = document.createElement('div');
  snowflake.className = 'snowflake';
  snowflake.innerHTML = 'â„ï¸';
  snowflake.style.left = Math.random() * 100 + 'vw';
  snowflake.style.animationDuration = (5 + Math.random() * 10) + 's';
  snowflake.style.fontSize = (15 + Math.random() * 15) + 'px';
  document.body.appendChild(snowflake);
  setTimeout(() => snowflake.remove(), 15000);
}

function startSnowfall() {
  snowflakeInterval = setInterval(createSnowflake, 300);
}

function stopSnowfall() {
  if (snowflakeInterval) {
    clearInterval(snowflakeInterval);
    // Remove existing snowflakes
    document.querySelectorAll('.snowflake').forEach(sf => sf.remove());
  }
}

startSnowfall();

// GAME STATE
let activitiesCompleted = {ball: false, pacman: false, memory: false, puzzle: false};

function startActivities() {
  document.getElementById('welcomeScreen').style.display = 'none';
  document.getElementById('birthdayReveal').style.display = 'none';
  document.getElementById('activitiesScreen').style.display = 'block';
}

function startActivity(activity) {
  document.getElementById('activitiesScreen').style.display = 'none';
  document.getElementById(activity + 'Game').style.display = 'block';
  stopSnowfall(); // Stop snowflakes when game starts
  
  if (activity === 'ball') initBallGame();
  else if (activity === 'pacman') initPacmanGame();
  else if (activity === 'memory') initMemoryGame();
  else if (activity === 'puzzle') initPuzzleGame();
}

function backToActivities() {
  document.querySelectorAll('.game-screen').forEach(s => s.style.display = 'none');
  document.getElementById('activitiesScreen').style.display = 'block';
  startSnowfall(); // Restart snowflakes when back to activities
}

function completeActivity(activity) {
  activitiesCompleted[activity] = true;
  document.getElementById('card-' + activity).classList.add('completed');
  updateProgress();
  spawnFairySparkles(15);
  setTimeout(() => {
    backToActivities();
    checkCompletion();
  }, 1500);
}

function updateProgress() {
  const completed = Object.values(activitiesCompleted).filter(v => v).length;
  const total = Object.keys(activitiesCompleted).length;
  const percentage = (completed / total) * 100;
  
  document.getElementById('progressBar').style.width = percentage + '%';
  document.getElementById('progressText').innerHTML = `${completed}/${total} Activities Completed`;
}

function checkCompletion() {
  const allCompleted = Object.values(activitiesCompleted).every(v => v);
  if (allCompleted) {
    setTimeout(() => {
      document.getElementById('activitiesScreen').style.display = 'none';
      document.getElementById('celebrationScreen').style.display = 'block';
      spawnFairySparkles(40);
    }, 500);
  }
}

// BALL GAME - Save the Ball with 3 Levels (More balls, same speed)
let ballCanvas, ballCtx, balls, paddle, ballScore, ballOver, ballLevel;

function initBallGame() {
  ballCanvas = document.getElementById('ballCanvas');
  ballCtx = ballCanvas.getContext('2d');
  
  ballLevel = 1;
  ballScore = 0;
  ballOver = false;
  
  startBallLevel(1);
}

function startBallLevel(level) {
  ballLevel = level;
  const ballCount = level; // 1 ball in level 1, 2 balls in level 2, 3 balls in level 3
  const targets = {1: 10, 2: 15, 3: 20};
  const levelNames = {1: 'Level 1 - Easy (1 Ball)', 2: 'Level 2 - Medium (2 Balls)', 3: 'Level 3 - Hard (3 Balls)!'};
  
  balls = [];
  // Create multiple balls for higher levels - ALL SAME SPEED (3)
  for (let i = 0; i < ballCount; i++) {
    balls.push({
      x: 150 + i * 50,
      y: 100 + i * 30,
      vx: 3 * (i % 2 === 0 ? 1 : -1), // Speed is 3 for all balls, alternate directions
      vy: 3, // Speed is 3 for all balls
      radius: 12
    });
  }
  
  paddle = {x: 150, y: 460, width: 100, height: 15};
  
  document.getElementById('ballLevel').innerText = levelNames[level];
  document.getElementById('ballScore').innerText = `Score: 0/${targets[level]}`;
  
  ballCanvas.onmousemove = (e) => {
    const rect = ballCanvas.getBoundingClientRect();
    paddle.x = e.clientX - rect.left - paddle.width / 2;
    paddle.x = Math.max(0, Math.min(400 - paddle.width, paddle.x));
  };
  
  ballCanvas.ontouchmove = (e) => {
    e.preventDefault();
    const rect = ballCanvas.getBoundingClientRect();
    paddle.x = e.touches[0].clientX - rect.left - paddle.width / 2;
    paddle.x = Math.max(0, Math.min(400 - paddle.width, paddle.x));
  };
  
  ballLoop();
}

function ballLoop() {
  if (ballOver) return;
  
  const targets = {1: 10, 2: 15, 3: 20};
  
  ballCtx.clearRect(0, 0, 400, 500);
  
  // Draw paddle
  ballCtx.fillStyle = '#ff6b9d';
  ballCtx.fillRect(paddle.x, paddle.y, paddle.width, paddle.height);
  ballCtx.strokeStyle = '#c06c84';
  ballCtx.strokeRect(paddle.x, paddle.y, paddle.width, paddle.height);
  
  // Draw and move all balls
  balls.forEach((ball, index) => {
    // Draw ball
    ballCtx.beginPath();
    ballCtx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
    ballCtx.fillStyle = index === 0 ? '#ff6b9d' : (index === 1 ? '#ffa8c5' : '#ffcce0');
    ballCtx.fill();
    ballCtx.strokeStyle = '#c06c84';
    ballCtx.lineWidth = 2;
    ballCtx.stroke();
    
    // Move ball
    ball.x += ball.vx;
    ball.y += ball.vy;
    
    // Wall collisions
    if (ball.x - ball.radius < 0 || ball.x + ball.radius > 400) {
      ball.vx = -ball.vx;
    }
    if (ball.y - ball.radius < 0) {
      ball.vy = -ball.vy;
    }
    
    // Paddle collision
    if (ball.y + ball.radius > paddle.y && 
        ball.x > paddle.x && 
        ball.x < paddle.x + paddle.width &&
        ball.vy > 0) {
      ball.vy = -ball.vy;
      ballScore++;
      document.getElementById('ballScore').innerText = `Score: ${ballScore}/${targets[ballLevel]}`;
      
      if (ballScore >= targets[ballLevel]) {
        if (ballLevel < 3) {
          ballLevel++;
          ballScore = 0;
          setTimeout(() => startBallLevel(ballLevel), 1000);
        } else {
          ballOver = true;
          completeActivity('ball');
        }
      }
    }
    
    // Reset ball if it falls
    if (ball.y - ball.radius > 500) {
      ball.x = 150 + index * 50;
      ball.y = 100 + index * 30;
      ballScore = Math.max(0, ballScore - 1);
      document.getElementById('ballScore').innerText = `Score: ${ballScore}/${targets[ballLevel]}`;
    }
  });
  
  requestAnimationFrame(ballLoop);
}

// PACMAN GAME with Ghosts and Levels
let pacmanCanvas, pacmanCtx, pacman, treats, ghosts, pacmanScore, pacmanOver, pacmanLevel, pacmanLives;

function initPacmanGame() {
  pacmanCanvas = document.getElementById('pacmanCanvas');
  pacmanCtx = pacmanCanvas.getContext('2d');
  
  pacmanLevel = 1;
  pacmanLives = 3;
  pacmanScore = 0;
  pacmanOver = false;
  
  startPacmanLevel(1);
}

function startPacmanLevel(level) {
  pacmanLevel = level;
  const ghostCounts = {1: 1, 2: 2, 3: 3};
  const treatCounts = {1: 15, 2: 20, 3: 25};
  const levelNames = {1: 'Level 1 - 1 Ghost', 2: 'Level 2 - 2 Ghosts', 3: 'Level 3 - 3 Ghosts!'};
  
  pacman = {x: 200, y: 200, size: 18, direction: {x: 0, y: 0}, speed: 2.5};
  treats = [];
  ghosts = [];
  
  // Create treats based on level
  const treatCount = treatCounts[level];
  for (let i = 0; i < treatCount; i++) {
    treats.push({
      x: 30 + (i % 5) * 75,
      y: 30 + Math.floor(i / 5) * 75,
      collected: false
    });
  }
  
  // Create ghosts based on level
  const ghostColors = ['#9c27b0', '#f44336', '#2196f3'];
  for (let i = 0; i < ghostCounts[level]; i++) {
    ghosts.push({
      x: 100 + i * 100,
      y: 100,
      vx: (Math.random() - 0.5) * 2,
      vy: (Math.random() - 0.5) * 2,
      color: ghostColors[i],
      size: 16
    });
  }
  
  document.getElementById('pacmanLevel').innerText = levelNames[level];
  document.getElementById('pacmanScore').innerText = `Treats: 0/${treatCount}`;
  updatePacmanLives();
  
  let touchStartX = 0, touchStartY = 0;
  
  pacmanCanvas.ontouchstart = (e) => {
    touchStartX = e.touches[0].clientX;
    touchStartY = e.touches[0].clientY;
  };
  
  pacmanCanvas.ontouchend = (e) => {
    const touchEndX = e.changedTouches[0].clientX;
    const touchEndY = e.changedTouches[0].clientY;
    const dx = touchEndX - touchStartX;
    const dy = touchEndY - touchStartY;
    
    if (Math.abs(dx) > Math.abs(dy)) {
      pacman.direction = dx > 0 ? {x: 1, y: 0} : {x: -1, y: 0};
    } else {
      pacman.direction = dy > 0 ? {x: 0, y: 1} : {x: 0, y: -1};
    }
  };
  
  document.onkeydown = (e) => {
    if (e.key === 'ArrowUp') pacman.direction = {x: 0, y: -1};
    if (e.key === 'ArrowDown') pacman.direction = {x: 0, y: 1};
    if (e.key === 'ArrowLeft') pacman.direction = {x: -1, y: 0};
    if (e.key === 'ArrowRight') pacman.direction = {x: 1, y: 0};
  };
  
  pacmanLoop();
}

function updatePacmanLives() {
  document.getElementById('pacmanLives').innerText = 'Lives: ' + 'â¤ï¸'.repeat(pacmanLives);
}

function resetPacmanPosition() {
  pacman.x = 200;
  pacman.y = 200;
  pacman.direction = {x: 0, y: 0};
  
  // Reset ghosts too
  ghosts.forEach((ghost, i) => {
    ghost.x = 100 + i * 100;
    ghost.y = 100;
  });
}

function pacmanLoop() {
  if (pacmanOver) return;
  
  const treatCounts = {1: 15, 2: 20, 3: 25};
  
  pacmanCtx.clearRect(0, 0, 400, 400);
  
  // Move pacman
  pacman.x += pacman.direction.x * pacman.speed;
  pacman.y += pacman.direction.y * pacman.speed;
  
  // Wrap around
  if (pacman.x < 0) pacman.x = 400;
  if (pacman.x > 400) pacman.x = 0;
  if (pacman.y < 0) pacman.y = 400;
  if (pacman.y > 400) pacman.y = 0;
  
  // Draw pacman - PINK
  pacmanCtx.beginPath();
  pacmanCtx.arc(pacman.x, pacman.y, pacman.size, 0.2 * Math.PI, 1.8 * Math.PI);
  pacmanCtx.lineTo(pacman.x, pacman.y);
  pacmanCtx.fillStyle = '#ff6b9d';
  pacmanCtx.fill();
  pacmanCtx.strokeStyle = '#c06c84';
  pacmanCtx.lineWidth = 2;
  pacmanCtx.stroke();
  
  // Draw and move ghosts
  ghosts.forEach(ghost => {
    // Simple AI - move towards pacman slightly
    const dx = pacman.x - ghost.x;
    const dy = pacman.y - ghost.y;
    const dist = Math.hypot(dx, dy);
    
    if (dist > 0) {
      ghost.vx += (dx / dist) * 0.05;
      ghost.vy += (dy / dist) * 0.05;
    }
    
    // Limit speed
    const speed = Math.hypot(ghost.vx, ghost.vy);
    if (speed > 1.5) {
      ghost.vx = (ghost.vx / speed) * 1.5;
      ghost.vy = (ghost.vy / speed) * 1.5;
    }
    
    ghost.x += ghost.vx;
    ghost.y += ghost.vy;
    
    // Bounce off walls
    if (ghost.x < 20 || ghost.x > 380) ghost.vx = -ghost.vx;
    if (ghost.y < 20 || ghost.y > 380) ghost.vy = -ghost.vy;
    
    // Draw ghost
    pacmanCtx.beginPath();
    pacmanCtx.arc(ghost.x, ghost.y, ghost.size, 0, Math.PI * 2);
    pacmanCtx.fillStyle = ghost.color;
    pacmanCtx.fill();
    pacmanCtx.strokeStyle = 'rgba(255,255,255,0.3)';
    pacmanCtx.lineWidth = 2;
    pacmanCtx.stroke();
    
    // Draw ghost eyes
    pacmanCtx.fillStyle = 'white';
    pacmanCtx.beginPath();
    pacmanCtx.arc(ghost.x - 5, ghost.y - 3, 3, 0, Math.PI * 2);
    pacmanCtx.arc(ghost.x + 5, ghost.y - 3, 3, 0, Math.PI * 2);
    pacmanCtx.fill();
    
    pacmanCtx.fillStyle = 'black';
    pacmanCtx.beginPath();
    pacmanCtx.arc(ghost.x - 5, ghost.y - 3, 1.5, 0, Math.PI * 2);
    pacmanCtx.arc(ghost.x + 5, ghost.y - 3, 1.5, 0, Math.PI * 2);
    pacmanCtx.fill();
    
    // Check collision with pacman
    const ghostDist = Math.hypot(pacman.x - ghost.x, pacman.y - ghost.y);
    if (ghostDist < pacman.size + ghost.size) {
      pacmanLives--;
      updatePacmanLives();
      
      if (pacmanLives <= 0) {
        pacmanOver = true;
        alert('Game Over! Try again!');
        backToActivities();
        return;
      } else {
        resetPacmanPosition();
      }
    }
  });
  
  // Draw treats and check collection
  treats.forEach(treat => {
    if (!treat.collected) {
      pacmanCtx.font = '18px Arial';
      pacmanCtx.fillText('ğŸ’–', treat.x - 9, treat.y + 9);
      
      const dist = Math.hypot(pacman.x - treat.x, pacman.y - treat.y);
      if (dist < pacman.size + 10) {
        treat.collected = true;
        pacmanScore++;
        document.getElementById('pacmanScore').innerText = `Treats: ${pacmanScore}/${treatCounts[pacmanLevel]}`;
        
        if (pacmanScore >= treatCounts[pacmanLevel]) {
          if (pacmanLevel < 3) {
            pacmanLevel++;
            pacmanScore = 0;
            setTimeout(() => startPacmanLevel(pacmanLevel), 1500);
          } else {
            pacmanOver = true;
            completeActivity('pacman');
          }
        }
      }
    }
  });
  
  requestAnimationFrame(pacmanLoop);
}

// MEMORY GAME
function initMemoryGame() {
  const emojis = ['ğŸ’–', 'ğŸŒ¸', 'ğŸ€', 'ğŸ¦‹', 'ğŸŒº', 'âœ¨', 'ğŸ', 'ğŸ°'];
  const cards = [...emojis, ...emojis].sort(() => Math.random() - 0.5);
  const grid = document.getElementById('memoryGrid');
  grid.innerHTML = '';
  
  let flipped = [];
  let matched = 0;
  let moves = 0;
  
  document.getElementById('memoryMoves').innerText = 'Moves: 0';
  
  cards.forEach((emoji, i) => {
    const card = document.createElement('div');
    card.style.cssText = 'width:90px;height:90px;background:linear-gradient(135deg,#ff6b9d,#ffa8c5);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:45px;cursor:pointer;transition:0.3s;box-shadow:0 3px 10px rgba(0,0,0,0.2);border:3px solid rgba(255,255,255,0.3);';
    card.innerHTML = 'â“';
    card.dataset.emoji = emoji;
    card.dataset.index = i;
    
    card.onclick = function() {
      if (flipped.length < 2 && !this.classList.contains('flipped')) {
        this.innerHTML = emoji;
        this.style.background = 'linear-gradient(135deg,#ffd1dc,#ffe4e1)';
        this.classList.add('flipped');
        flipped.push(this);
        
        if (flipped.length === 2) {
          moves++;
          document.getElementById('memoryMoves').innerText = `Moves: ${moves}`;
          
          setTimeout(() => {
            if (flipped[0].dataset.emoji === flipped[1].dataset.emoji) {
              matched += 2;
              flipped[0].style.background = 'linear-gradient(135deg,#c8e6c9,#a5d6a7)';
              flipped[1].style.background = 'linear-gradient(135deg,#c8e6c9,#a5d6a7)';
              flipped = [];
              
              if (matched === cards.length) {
                setTimeout(() => completeActivity('memory'), 500);
              }
            } else {
              flipped.forEach(c => {
                c.innerHTML = 'â“';
                c.style.background = 'linear-gradient(135deg,#ff6b9d,#ffa8c5)';
                c.classList.remove('flipped');
              });
              flipped = [];
            }
          }, 800);
        }
      }
    };
    
    grid.appendChild(card);
  });
}

// SLIDE PUZZLE GAME
let puzzleTiles = [];
let emptyIndex = 15;
let puzzleMoves = 0;

function initPuzzleGame() {
  puzzleMoves = 0;
  document.getElementById('puzzleMoves').innerText = 'Moves: 0';
  
  // Initialize tiles 1-15 and empty space
  puzzleTiles = Array.from({length: 15}, (_, i) => i + 1);
  puzzleTiles.push(null); // empty space
  
  // Shuffle
  for (let i = 0; i < 100; i++) {
    const validMoves = getValidMoves();
    const randomMove = validMoves[Math.floor(Math.random() * validMoves.length)];
    swapTiles(emptyIndex, randomMove);
    emptyIndex = randomMove;
  }
  
  renderPuzzle();
}

function getValidMoves() {
  const moves = [];
  const row = Math.floor(emptyIndex / 4);
  const col = emptyIndex % 4;
  
  if (row > 0) moves.push(emptyIndex - 4); // up
  if (row < 3) moves.push(emptyIndex + 4); // down
  if (col > 0) moves.push(emptyIndex - 1); // left
  if (col < 3) moves.push(emptyIndex + 1); // right
  
  return moves;
}

function swapTiles(i1, i2) {
  [puzzleTiles[i1], puzzleTiles[i2]] = [puzzleTiles[i2], puzzleTiles[i1]];
}

function renderPuzzle() {
  const grid = document.getElementById('puzzleGrid');
  grid.innerHTML = '';
  
  puzzleTiles.forEach((num, index) => {
    const tile = document.createElement('div');
    tile.style.cssText = 'width:90px;height:90px;display:flex;align-items:center;justify-content:center;font-size:32px;font-weight:bold;border-radius:10px;cursor:pointer;transition:0.2s;';
    
    if (num === null) {
      tile.style.background = 'rgba(255,182,193,0.2)';
      tile.style.cursor = 'default';
    } else {
      tile.style.background = 'linear-gradient(135deg,#ff6b9d,#ffa8c5)';
      tile.style.color = 'white';
      tile.style.boxShadow = '0 3px 10px rgba(0,0,0,0.2)';
      tile.style.border = '2px solid rgba(255,255,255,0.3)';
      tile.innerHTML = num;
      
      tile.onclick = () => {
        if (getValidMoves().includes(index)) {
          swapTiles(emptyIndex, index);
          emptyIndex = index;
          puzzleMoves++;
          document.getElementById('puzzleMoves').innerText = `Moves: ${puzzleMoves}`;
          renderPuzzle();
          checkPuzzleWin();
        }
      };
      
      tile.onmouseenter = () => {
        if (getValidMoves().includes(index)) {
          tile.style.transform = 'scale(1.05)';
        }
      };
      
      tile.onmouseleave = () => {
        tile.style.transform = 'scale(1)';
      };
    }
    
    grid.appendChild(tile);
  });
}

function checkPuzzleWin() {
  const isSolved = puzzleTiles.slice(0, 15).every((num, i) => num === i + 1);
  if (isSolved) {
    setTimeout(() => completeActivity('puzzle'), 500);
  }
}

function resetPuzzle() {
  initPuzzleGame();
}

// CELEBRATION
function blowCandle() {
  document.getElementById('flame').style.display = 'none';
  document.getElementById('blowBtn').style.display = 'none';
  document.getElementById('cutBtn').style.display = 'inline-block';
  document.getElementById('celebTitle').innerHTML = 'âœ¨ Make a Magical Wish! âœ¨';
  spawnFairySparkles(25);
}

function cutCake() {
  document.getElementById('cakeGroup').classList.add('cut-active');
  document.getElementById('cakeSlice').style.display = 'block';
  document.getElementById('cutBtn').style.display = 'none';
  document.getElementById('wishBtn').style.display = 'inline-block';
  document.getElementById('celebTitle').innerHTML = 'ğŸ‰ Happy Birthday! ğŸ‰';
  spawnConfetti(200);
  spawnFairySparkles(40);
}

function showWish() {
  document.getElementById('wishMessage').style.display = 'block';
  document.getElementById('wishBtn').style.display = 'none';
  spawnFairySparkles(50);
  spawnConfetti(100);
}

// BIRTHDAY REVEAL CAKE FUNCTIONS
function blowRevealCandle() {
  document.getElementById('revealFlame').style.display = 'none';
  document.getElementById('revealBlowBtn').style.display = 'none';
  document.getElementById('revealCutBtn').style.display = 'inline-block';
  spawnFairySparkles(30);
  spawnConfetti(50);
}

function cutRevealCake() {
  document.getElementById('revealCakeGroup').classList.add('cut-active');
  document.getElementById('revealCakeSlice').style.display = 'block';
  document.getElementById('revealCutBtn').style.display = 'none';
  document.getElementById('revealLetterBtn').style.display = 'inline-block';
  spawnConfetti(150);
  spawnFairySparkles(40);
}

function openLetter() {
  document.getElementById('birthdayCakeSection').style.display = 'none';
  document.getElementById('letterSection').style.display = 'block';
  spawnFairySparkles(50);
  spawnConfetti(100);
}

function spawnConfetti(count) {
  const colors = ['#ffb6c1', '#ffc0cb', '#ffb3d9', '#ffa8c5', '#ff9acb', '#ffd1dc', '#ffe4e1'];
  for (let i = 0; i < count; i++) {
    setTimeout(() => {
      const c = document.createElement('div');
      c.className = 'confetti';
      c.style.left = Math.random() * 100 + 'vw';
      c.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
      c.style.animationDuration = (2 + Math.random() * 2) + 's';
      c.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
      document.body.appendChild(c);
      setTimeout(() => c.remove(), 5000);
    }, i * 15);
  }
}

function spawnFairySparkles(count) {
  const sparkles = ['âœ¨', 'ğŸŒŸ', 'ğŸ’«', 'â­', 'ğŸŒ¸', 'ğŸ¦‹', 'ğŸŒº', 'ğŸ’–'];
  for (let i = 0; i < count; i++) {
    setTimeout(() => {
      const s = document.createElement('div');
      s.className = 'fairy-sparkle';
      s.innerHTML = sparkles[Math.floor(Math.random() * sparkles.length)];
      s.style.left = Math.random() * 100 + 'vw';
      s.style.top = (20 + Math.random() * 80) + 'vh';
      document.body.appendChild(s);
      setTimeout(() => s.remove(), 3000);
    }, i * 100);
  }
}

// INITIALIZE
document.getElementById('welcomeScreen').style.display = 'block';
</script>
</body>
</html>
